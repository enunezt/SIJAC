<?xml version="1.0" encoding="UTF-8"?>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"               
                xmlns:p="http://primefaces.org/ui"
                xmlns:my="http://java.sun.com/jsf/composite/components">
        <h:form id="formPersona"  prependId="false">
			<h:panelGrid id="idPnlPersona" columns="4" styleClass="center">
			<h:outputLabel value="${msgs.lbl_tipoDocumento}" />
			<h:panelGroup>
				<p:selectOneMenu value="#{personaController.persona.tipoDocumento}"
					effect="fade" converter="catalogoConverter">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.tipoDocumentoItems}"
						var="tipoDocumento"
						itemLabel="#{tipoDocumento.codigo - tipoDocumento.valor}"
						itemValue="#{tipoDocumento}" />
				</p:selectOneMenu>
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_numDocumento}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.numDocumento}" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_nombres}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.nombres}" />
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_apellido1}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.apellido1}" />
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_apellido2}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.apellido2}" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_fecNacimiento}" />
			<h:panelGroup>
				<p:calendar id="calFecNacimiento"
					value="#{personaController.persona.fecNacimiento}" navigator="true"
					display="inline" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_email}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.email}" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_direccion}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.direccion}" />
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_barrio}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.barrio}" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_telefonos}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.telefonos}" />
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_dirCiudad}" />
			<h:panelGroup>
			<p:separator />
				<p:selectOneMenu
					value="#{personaController.persona.dirCiudad.departamento.pais}"
					effect="fade" id="paisdirCiudad" converter="lugaresConverter"
					style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.paisItems}"
						var="pais" itemLabel="#{pais.nombre}" itemValue="#{pais}" />
					<p:ajax listener="#{personaController.paisChange}"
						update="deptodirCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu
					value="#{personaController.persona.dirCiudad.departamento}"
					effect="fade" id="deptodirCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.deptoItems}"
						var="depto" itemLabel="#{depto.nombre}" itemValue="#{depto}" />
					<p:ajax listener="#{personaController.departamentoChange}"
						update="ciudaddirCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu value="#{personaController.persona.dirCiudad}"
					effect="fade" id="ciudaddirCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.ciudadItems}"
						var="ciudad" itemLabel="#{ciudad.nombre}" itemValue="#{ciudad}" />
				</p:selectOneMenu>
					<p:separator />
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_nacCiudad}" />
			<h:panelGroup>
			<p:separator />
				<p:selectOneMenu
					value="#{personaController.persona.nacCiudad.departamento.pais}"
					effect="fade" id="paisnacCiudad" converter="lugaresConverter"
					style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.paisItems}"
						var="pais" itemLabel="#{pais.nombre}" itemValue="#{pais}" />
					<p:ajax listener="#{personaController.paisChange}"
						update="deptonacCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu
					value="#{personaController.persona.nacCiudad.departamento}"
					effect="fade" id="deptonacCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.deptoItems}"
						var="depto" itemLabel="#{depto.nombre}" itemValue="#{depto}" />
					<p:ajax listener="#{personaController.departamentoChange}"
						update="ciudadnacCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu value="#{personaController.persona.nacCiudad}"
					effect="fade" id="ciudadnacCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.ciudadItems}"
						var="ciudad" itemLabel="#{ciudad.nombre}" itemValue="#{ciudad}" />
				</p:selectOneMenu>
				<p:separator />
				
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_expedCiudad}" />
			<h:panelGroup>
		
				<p:selectOneMenu
					value="#{personaController.persona.expedCiudad.departamento.pais}"
					effect="fade" id="paisexpedCiudad" converter="lugaresConverter"
					style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.paisItems}"
						var="pais" itemLabel="#{pais.nombre}" itemValue="#{pais}" />
					<p:ajax listener="#{personaController.paisChange}"
						update="deptoexpedCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu
					value="#{personaController.persona.expedCiudad.departamento}"
					effect="fade" id="deptoexpedCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.deptoItems}"
						var="depto" itemLabel="#{depto.nombre}" itemValue="#{depto}" />
					<p:ajax listener="#{personaController.departamentoChange}"
						update="ciudadexpedCiudad" />
				</p:selectOneMenu>
				<p:selectOneMenu value="#{personaController.persona.expedCiudad}"
					effect="fade" id="ciudadexpedCiudad" converter="lugaresConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.lugar.ciudadItems}"
						var="ciudad" itemLabel="#{ciudad.nombre}" itemValue="#{ciudad}" />
				</p:selectOneMenu>
				<p:separator />
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_profesion}" />
			<h:panelGroup>
				<p:selectOneMenu value="#{personaController.persona.profesion}"
					effect="fade" converter="catalogoConverter" style="width:150px;">
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItems value="#{personaController.profesionItems}"
						var="profesion" itemLabel="#{profesion.codigo - profesion.valor}"
						itemValue="#{profesion}" />
				</p:selectOneMenu>
			</h:panelGroup>
			<h:outputLabel value="${msgs.lbl_usuario}" />
			<h:panelGroup>
				<p:inputText value="#{ personaController.persona.usuario.usuario}" />
				<p:commandButton title="${msgs.btn_select} ${msgs.lbl_usuario}"
					process="idPnlPersona" oncomplete="dlgUsuario.show()"
					icon="ui-icon-search"></p:commandButton>
			</h:panelGroup>

			<h:outputLabel value="${msgs.lbl_estado}" />
			<h:panelGroup>
				<p:selectOneMenu value="#{personaController.persona.estado}"
					effect="fade" >
					<f:selectItem itemLabel="${msgs.lbl_item_seleccione}" itemValue="" />
					<f:selectItem itemLabel="A" itemValue="A" />
					<f:selectItem itemLabel="I" itemValue="I" />
					<f:selectItem itemLabel="C" itemValue="C" />
				</p:selectOneMenu>
			</h:panelGroup>
			
		</h:panelGrid>

	</h:form>
	 			
	<p:dialog header="${msgs.lbl_usuario}" showEffect="fade" hideEffect="fade" widgetVar="dlgUsuario" modal="false">
    <h:panelGrid id="dplyPersonaUsuario" columns="1" style="margin: 10px;"> 
    <ui:include  src="../../../pgadmin/usuario/usuarioSelect.xhtml"  >
    <ui:param name="uiParamBckBeanOrigen" value="personaController.persona.usuario" />
    <ui:param name="uiParamEntAtt" value="Usuario" />
    <ui:param name="uiParamEntOrig" value="Persona" />
    </ui:include>       
    </h:panelGrid>
     <f:facet name="footer">
                <h:panelGroup layout="block" style="text-align: right; padding: 2px;">
                   
                    <p:commandButton type="button" value="${msgs.btn_cerrar}" onclick="dlgUsuario.hide()" icon="ui-icon-closethick"/>
                </h:panelGroup>
            </f:facet>
    </p:dialog>
	 			
	

</ui:composition>
	